{"version":3,"sources":["webpack:///./src/views/EventEdit.vue?f737","webpack:///src/views/EventEdit.vue","webpack:///./src/views/EventEdit.vue?be98","webpack:///./src/views/EventEdit.vue","webpack:///./src/components/ListErrors.vue?ff5a","webpack:///src/components/ListErrors.vue","webpack:///./src/components/ListErrors.vue?1534","webpack:///./src/components/ListErrors.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","errors","on","$event","preventDefault","onPublish","event","slug","inProgress","directives","name","rawName","value","expression","domProps","target","composing","$set","modifiers","_n","$forceUpdate","type","indexOf","_k","keyCode","key","addTag","tagInput","_l","tag","index","removeTag","_v","_s","staticRenderFns","components","props","previousEvent","Object","required","data","computed","methods","$store","dispatch","component","err"],"mappings":"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","file":"js/chunk-fedd178c.0afd95f2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"editor-page\"},[_c('div',{staticClass:\"container page\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-10 offset-md-1 col-xs-12\"},[_c('ListErrors',{attrs:{\"errors\":_vm.errors}}),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onPublish(_vm.event.slug);}}},[_c('fieldset',{attrs:{\"disabled\":_vm.inProgress}},[_c('fieldset',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.event.title),expression:\"event.title\"}],staticClass:\"form-control form-control-lg\",attrs:{\"type\":\"text\",\"placeholder\":\"Event Title\"},domProps:{\"value\":(_vm.event.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.event, \"title\", $event.target.value)}}})]),_c('fieldset',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.event.description),expression:\"event.description\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"What's this event about? Write a catchy short description.\"},domProps:{\"value\":(_vm.event.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.event, \"description\", $event.target.value)}}})]),_c('fieldset',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.event.stream),expression:\"event.stream\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Event stream name.\"},domProps:{\"value\":(_vm.event.stream)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.event, \"stream\", $event.target.value)}}})]),_c('fieldset',{staticClass:\"form-group\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.event.body),expression:\"event.body\"}],staticClass:\"form-control\",attrs:{\"rows\":\"8\",\"placeholder\":\"Write more interesting things about your event.\"},domProps:{\"value\":(_vm.event.body)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.event, \"body\", $event.target.value)}}})]),_c('fieldset',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.event.price),expression:\"event.price\",modifiers:{\"number\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"step\":\"0.01\",\"placeholder\":\"Price in dollars\"},domProps:{\"value\":(_vm.event.price)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.event, \"price\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('fieldset',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tagInput),expression:\"tagInput\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Type in the tag. Press enter after inputing the tag.\"},domProps:{\"value\":(_vm.tagInput)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.addTag(_vm.tagInput);},\"input\":function($event){if($event.target.composing){ return; }_vm.tagInput=$event.target.value}}}),_c('div',{staticClass:\"tag-list\"},_vm._l((_vm.event.tagList),function(tag,index){return _c('span',{key:tag + index,staticClass:\"tag-default tag-pill\"},[_c('i',{staticClass:\"ion-close-round\",on:{\"click\":function($event){return _vm.removeTag(tag);}}}),_vm._v(\"\\n                  \"+_vm._s(tag)+\"\\n                \")])}),0)])]),_c('button',{staticClass:\"btn btn-lg pull-xs-right btn-primary\",attrs:{\"disabled\":_vm.inProgress,\"type\":\"submit\"}},[_vm._v(\"\\n            Publish Event\\n          \")])])],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"editor-page\">\r\n    <div class=\"container page\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-10 offset-md-1 col-xs-12\">\r\n          <ListErrors :errors=\"errors\" />\r\n          <form v-on:submit.prevent=\"onPublish(event.slug);\">\r\n            <fieldset :disabled=\"inProgress\">\r\n              <fieldset class=\"form-group\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control form-control-lg\"\r\n                  v-model=\"event.title\"\r\n                  placeholder=\"Event Title\"\r\n                />\r\n              </fieldset>\r\n              <fieldset class=\"form-group\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  v-model=\"event.description\"\r\n                  placeholder=\"What's this event about? Write a catchy short description.\"\r\n                />\r\n              </fieldset>\r\n              <fieldset class=\"form-group\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  v-model=\"event.stream\"\r\n                  placeholder=\"Event stream name.\"\r\n                />\r\n              </fieldset>\r\n              <fieldset class=\"form-group\">\r\n                <textarea\r\n                  class=\"form-control\"\r\n                  rows=\"8\"\r\n                  v-model=\"event.body\"\r\n                  placeholder=\"Write more interesting things about your event.\"\r\n                >\r\n                </textarea>\r\n              </fieldset>\r\n              <fieldset class=\"form-group\">\r\n                <input \r\n                  v-model.number=\"event.price\" \r\n                  type=\"number\" \r\n                  class=\"form-control\"\r\n                  step=\"0.01\"\r\n                  placeholder=\"Price in dollars\"> <!-- TODO: Validation. Can I send request that is not rounded to 2 decimals? Check on server as well. -->\r\n              </fieldset>\r\n              <fieldset class=\"form-group\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Type in the tag. Press enter after inputing the tag.\"\r\n                  v-model=\"tagInput\"\r\n                  v-on:keypress.enter.prevent=\"addTag(tagInput);\"\r\n                />\r\n                <div class=\"tag-list\">\r\n                  <span\r\n                    class=\"tag-default tag-pill\"\r\n                    v-for=\"(tag, index) of event.tagList\"\r\n                    :key=\"tag + index\"\r\n                  >\r\n                    <i class=\"ion-close-round\" v-on:click=\"removeTag(tag);\">\r\n                    </i>\r\n                    {{ tag }}\r\n                  </span>\r\n                </div>\r\n              </fieldset>\r\n            </fieldset>\r\n            <button\r\n              :disabled=\"inProgress\"\r\n              class=\"btn btn-lg pull-xs-right btn-primary\"\r\n              type=\"submit\"\r\n            >\r\n              Publish Event\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport store from \"@/store\";\r\nimport ListErrors from \"@/components/ListErrors\";\r\nimport {\r\n  EVENT_PUBLISH,\r\n  EVENT_EDIT,\r\n  FETCH_EVENT,\r\n  EVENT_EDIT_ADD_TAG,\r\n  EVENT_EDIT_REMOVE_TAG,\r\n  EVENT_RESET_STATE\r\n} from \"@/store/actions.type\";\r\n\r\nexport default {\r\n  name: \"EventEdit\",\r\n  components: { ListErrors },\r\n  props: {\r\n    previousEvent: {\r\n      type: Object,\r\n      required: false\r\n    }\r\n  },\r\n  async beforeRouteUpdate(to, from, next) {\r\n    // Reset state if user goes from /editor/:id to /editor\r\n    // The component is not recreated so we use to hook to reset the state.\r\n    await store.dispatch(EVENT_RESET_STATE);\r\n    return next();\r\n  },\r\n  async beforeRouteEnter(to, from, next) {\r\n    // SO: https://github.com/vuejs/vue-router/issues/1034\r\n    // If we arrive directly to this url, we need to fetch the event\r\n    await store.dispatch(EVENT_RESET_STATE);\r\n    if (to.params.slug !== undefined) {\r\n      await store.dispatch(\r\n        FETCH_EVENT,\r\n        to.params.slug,\r\n        to.params.previousEvent\r\n      );\r\n    }\r\n    return next();\r\n  },\r\n  async beforeRouteLeave(to, from, next) {\r\n    await store.dispatch(EVENT_RESET_STATE);\r\n    next();\r\n  },\r\n  data() {\r\n    return {\r\n      tagInput: null,\r\n      inProgress: false,\r\n      errors: {}\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"event\"])\r\n  },\r\n  methods: {\r\n    onPublish(slug) {\r\n      let action = slug ? EVENT_EDIT : EVENT_PUBLISH;\r\n      this.inProgress = true;\r\n      this.$store\r\n        .dispatch(action)\r\n        .then(({ data }) => {\r\n          this.inProgress = false;\r\n          this.$router.push({\r\n            name: \"event\",\r\n            params: { slug: data.event.slug }\r\n          });\r\n        })\r\n        .catch(({ response }) => {\r\n          this.inProgress = false;\r\n          this.errors = response.data.errors;\r\n        });\r\n    },\r\n    removeTag(tag) {\r\n      this.$store.dispatch(EVENT_EDIT_REMOVE_TAG, tag);\r\n    },\r\n    addTag(tag) {\r\n      this.$store.dispatch(EVENT_EDIT_ADD_TAG, tag);\r\n      this.tagInput = null;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventEdit.vue?vue&type=template&id=c72f411a&\"\nimport script from \"./EventEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./EventEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"error-messages\"},_vm._l((_vm.errors),function(value,key){return _c('li',{key:key},[_c('span',{domProps:{\"textContent\":_vm._s(key)}}),_vm._l((value),function(err){return _c('span',{key:err,domProps:{\"textContent\":_vm._s(err)}})})],2)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template v-show=\"errors\">\r\n  <ul class=\"error-messages\">\r\n    <li v-for=\"(value, key) in errors\" :key=\"key\">\r\n      <span v-text=\"key\" />\r\n      <span v-for=\"err in value\" :key=\"err\" v-text=\"err\" />\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ListErorrs\",\r\n  props: {\r\n    errors: { type: Object, required: true }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListErrors.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListErrors.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListErrors.vue?vue&type=template&id=2a8171ae&v-show=errors&\"\nimport script from \"./ListErrors.vue?vue&type=script&lang=js&\"\nexport * from \"./ListErrors.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}